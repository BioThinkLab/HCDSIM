# hcdbench cndetect

`hcdbench cndetect` command to calculate the RMSE,ACC,SCC of copy number (CN) status at the bin level.

## Overview

This script implements a subcommand called `cndetect` that calculates the **RMSE**, **ACC**, and **SCC** of copy number (CN) status at the bin level. These metrics are used to evaluate the performance of different tools in copy number detection tasks.

## Parameters
```shell
usage: hcdbench cndetect [-h] --tool-cna-files  [...] --cna-profile-file  --tool-names  [...] [--output-dir]

options:
  -h, --help            show this help message and exit
  --tool-cna-files  [ ...]
                        Paths to the CNA files generated by different tools.
  --cna-profile-file    Path to the ground truth CNA profile file.
  --tool-names  [ ...]  List of tool names corresponding to the classification files
  --output-dir          Path to the file where the results will be saved, default: './output'
```

## Input

1. **Tool CNA Files**:
   - Multiple file paths can be provided, separated by spaces.
   - The file format should be CSV, containing the predicted copy number statuses.
2. **CNA Ground Truth File**:
   - A CSV file containing the ground truth copy number profile.
   - This file provides the true copy number status at the bin level.
3. **Tool Names**:
   - Must match the number of CNA files in `--tool-cna-files`.
   - Each tool name corresponds to a CNA file.
4. **Output Directory**:
   - Optional parameter, default path is `./output`.

## Output

1. The evaluation results will be saved as a CSV file, default filename `bin_level_results.csv`.
2. The output will include the following columns:
   1. **Tool**: The name of the tool.
   2. **RMSE**: Root Mean Squared Error.
   3. **ACC**: Accuracy.
   4. **SCC**: Spearman Correlation Coefficient.

## Example Usage

For acCNA detection:

```shell
hcdbench cndetect \
   --tool-cna-files data/chisel_5x_minor_and_major_cnv.csv \
   --cna-profile-file data/ground_truth_minor_and_major_cnv.csv \
   --tool-names chisel_5x_acCNA
```

For hcCNA detection:

```shell
hcdbench cndetect \
   --tool-cna-files data/chisel_5x_combined_cnv.csv \
   --cna-profile-file data/ground_truth_combined_cnv.csv \
   --tool-names chisel_5x_hcCNA
```

